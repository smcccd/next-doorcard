# Doorcard App Testing Prep

## Getting Ready to Test Our New Faculty Office Hours System

---

## What We're Replacing üè†‚û°Ô∏èüèóÔ∏è

**The Old System:** `doorcard.smccd.edu`

- Classic ASP (from like... 2000s era)
- PHP + Access Database + LDAP mess
- **The Problem**: 20+ person-hours just to investigate ONE failure
- Data corruption everywhere (we found 9,627 broken records!)

**The New System:** Next.js Modern Web App

- Built for 2025, not 2005
- Clean data, fast performance, mobile-friendly

---

## The Big Problem We Solved üîß

### What Was Broken

- Homepage showing "Bes Nyib" instead of real names
- 53.6% of appointment data was orphaned (broken links)
- Faculty couldn't rely on the system
- IT spent way too much time firefighting

### Root Cause Found

```php
// This terrible code in the old dev script:
$firstName = username.charAt(0).toUpperCase() + username.slice(1, 3);
$lastName = username.slice(3).charAt(0).toUpperCase() + username.slice(4);

// So "millerj" became "Mil Lerj" ü§¶‚Äç‚ôÇÔ∏è
```

---

## What We Built ‚ú®

### Core Features

- **Faculty Dashboard**: Create/edit your doorcard
- **Public View**: Students find office hours easily
- **Search & Filter**: By name, campus, department
- **Print Ready**: Clean PDFs for posting
- **Mobile Friendly**: Works on phones/tablets

### The Tech Stack

- **Frontend**: Next.js 15 + React 19 + TypeScript
- **Database**: PostgreSQL (Neon) with Prisma ORM
- **Auth**: NextAuth v4 (ready for OneLogin SSO)
- **Hosting**: Vercel (99.99% uptime)

---

## Major Wins üéâ

### Data Quality Victory

- **Fixed 9,627** corrupted faculty records
- **Migrated 2,271** users from legacy Access DB
- **Processed 93,484** valid appointments
- **Filtered out 91,451** orphaned records

### Performance Improvements

- **5-minute caching** = super fast homepage
- **Sub-2 second** page loads
- **Mobile-responsive** design
- **Accessibility compliant** (WCAG 2.1 AA path)

### User Experience

- Clean, table-like faculty grid (based on your feedback!)
- Real-time search with autocomplete
- Visual campus selection with college logos
- Day availability indicators (M, T, W, Th, F)

---

## What Didn't Go Smoothly üòÖ

### Migration Challenges

- **Legacy data was a mess**: 53.6% broken relationships
- **Only 1 user** in TBL_USER vs 2,271 needed
- **Multiple migration restarts**: Script kept stalling around 1650 users
- **Cultural names**: Had to handle "Dr. Mar√≠a de la Cruz" properly

### Technical Hurdles

- **Jest ‚Üí Vitest migration**: Still 50% complete
- **TypeScript strict mode**: Lots of type fixes needed
- **Date serialization**: Caching issues with Date objects
- **UI iterations**: Took multiple rounds to get grid layout right

---

## What We're Still Working On üöß

### Almost Done

- **Production migration**: Postgres DB migration (commands ready)
- **Accessibility audit**: WCAG compliance validation
- **Test coverage**: Complete Vitest migration

### Future Enhancements

- **Advanced analytics**: Usage tracking and insights
- **Bulk operations**: Import/export for admins
- **Template system**: Custom doorcard layouts
- **Calendar integration**: Sync with Outlook/Google

---

## What You Should Test üß™

### Happy Path Testing

1. **Homepage**: Browse faculty, search by name/campus
2. **Faculty Login**: Create account, edit profile
3. **Doorcard Creation**: Add office hours, save changes
4. **Public View**: Find someone's hours as a student
5. **Print View**: Generate clean PDF for posting

### Edge Cases to Check

1. **Empty states**: No office hours, no search results
2. **Long names**: "Dr. Mar√≠a Fern√°ndez de la Cruz-Gonz√°lez"
3. **Mobile usage**: Small screens, touch interactions
4. **Slow connections**: How does caching work?
5. **Error scenarios**: Network failures, invalid data

---

## Testing Focus Areas üéØ

### Data Integrity

- **Names display correctly**: No more "Bes Nyib"
- **Schedule accuracy**: Times, days, locations match
- **Campus colors**: Skyline=red, CSM=blue, Ca√±ada=green
- **Search results**: Accurate and complete

### User Experience

- **Navigation flow**: Intuitive for faculty and students
- **Visual hierarchy**: Important info stands out
- **Loading states**: Smooth transitions, no jarring jumps
- **Error messages**: Helpful and actionable

### Performance

- **Page load speed**: Sub-2 seconds target
- **Search responsiveness**: Instant autocomplete
- **Mobile performance**: Smooth scrolling, tap targets
- **Caching effectiveness**: Fast repeat visits

---

## Common Issues to Watch For ‚ö†Ô∏è

### Potential Gotchas

- **Cache stale data**: Homepage might show old info
- **TypeScript errors**: Build failures during development
- **Authentication flows**: OneLogin integration edge cases
- **Date/time formats**: Timezone and display inconsistencies
- **Mobile keyboard**: Form field interactions

### Known Limitations

- **Import process**: Still manual for bulk data
- **Offline support**: Requires internet connection
- **Browser support**: Modern browsers only (IE is dead to us)
- **Print margins**: PDF formatting might need tweaks

---

## Success Criteria ‚úÖ

### Must-Pass Tests

- [ ] Homepage loads in under 2 seconds
- [ ] Search finds faculty by name correctly
- [ ] Faculty can create/edit doorcards
- [ ] Print view generates clean PDFs
- [ ] Mobile interface is usable
- [ ] No broken links or 404 errors

### Nice-to-Have

- [ ] Accessibility with screen reader
- [ ] Performance on slow connections
- [ ] Edge case error handling
- [ ] Advanced search features work

---

## Questions for You ü§î

### Testing Strategy

1. **What devices** should we prioritize? (phones, tablets, laptops)
2. **Which browsers** are most important? (Chrome, Safari, Firefox)
3. **What's the faculty workflow** you want to focus on?
4. **Student use cases** we should simulate?

### Feedback Areas

1. **UI/UX improvements** you notice
2. **Performance issues** on your setup
3. **Missing features** that would be helpful
4. **Confusing workflows** that need simplification

---

## Next Steps üöÄ

### After Testing Session

1. **Collect feedback** and prioritize fixes
2. **Address critical bugs** before production
3. **Document test results** for stakeholders
4. **Plan production cutover** timeline

### Production Readiness

- Migration script is ready to run
- Vercel deployment pipeline configured
- Monitoring and error tracking in place
- Rollback plan documented

---

## Let's Test! üéÆ

**Development URL**: `http://localhost:3000`
**Test Accounts**: Faculty and student personas
**Focus Areas**: Usability, performance, data accuracy

### Ready to break stuff? üòà

_That's how we make it stronger!_
